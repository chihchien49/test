from flask import Flask, request, abort
import os

from linebot import (
    LineBotApi, WebhookHandler
)
from linebot.exceptions import (
    InvalidSignatureError
)
from linebot.models import (
    MessageEvent, TextMessage, TextSendMessage,
)

app = Flask(__name__)

# 使用heroku的environment variables
line_bot_api = LineBotApi(os.environ['CHANNEL_ACCESS_TOKEN'])
handler = WebhookHandler(os.environ['CHANNEL_SECRET'])


@app.route("/callback", methods=['POST'])
def callback():
    # get X-Line-Signature header value
    signature = request.headers['X-Line-Signature']

    # get request body as text
    body = request.get_data(as_text=True)
    app.logger.info("Request body: " + body)

    # handle webhook body
    try:
        handler.handle(body, signature)
    except InvalidSignatureError:
        print("Invalid signature. Please check your channel access token/channel secret.")
        abort(400)

    return 'OK'


@handler.add(MessageEvent, message=TextMessage)
def handle_message(event):
    # 回應使用者輸入的話
    line_bot_api.reply_message(
        event.reply_token,
        message=ImageSendMessage(
            original_content_url='data:image/jpeg;base64,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',
            preview_image_url='data:image/jpeg;base64,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'
        )
        line_bot_api.reply_message(event.reply_token,message)


if __name__ == "__main__":
    port = int(os.environ.get('PORT', 5000))
    # Setting host='0.0.0.0' will make Flask available from the network
    app.run(host='0.0.0.0', port=port)
